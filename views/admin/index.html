<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Panel Admin - Inicio</title>
    <link rel="stylesheet" href="../../Public/styles/admin.css" />
</head>
<body>
    <div class="admin-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>Admin</h2>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#" id="dashboardLink" class="active">Dashboard</a></li>
                    <li><a href="#" id="usersLink">Usuarios</a></li>
                    <li><a href="#" id="offersLink">Ofertas</a></li>
                </ul>
            </nav>
        </aside>
        <div class="main-content">
            <header class="main-header">
                <h1>Panel de Administración</h1>
                <div class="user-info">
                    <span>Hola, Admin</span>
                </div>
            </header>
            <main>
                <section class="dashboard-cards" id="dashboardSection">
                    <div class="card">
                        <h2>Información General</h2>
                        <p>Bienvenido al panel de administración. Aquí puedes gestionar usuarios y ofertas.</p>
                        <ul>
                            <li>Total de usuarios registrados: <strong id="totalUsuarios">--</strong></li>
                            <li>Total de ofertas publicadas: <strong id="totalOfertas">--</strong></li>
                        </ul>
                    </div>
                    <div class="card">
                        <h2>Guía de Uso</h2>
                        <ol>
                            <li>Utiliza el menú lateral para navegar entre las secciones.</li>
                            <li>En cada sección puedes editar o eliminar registros.</li>
                            <li>Para editar o eliminar, utiliza los botones correspondientes en cada fila de la tabla.</li>
                            <li>Recuerda guardar los cambios antes de salir de cada formulario.</li>
                        </ol>
                    </div>
                </section>
                
                <section class="dashboard-cards" id="usersSection" style="display:none;">
                    <div class="card">
                        <input type="text" id="userSearchInput" placeholder="Buscar usuarios por nombre o email" style="margin-bottom: 10px; padding: 5px; width: 100%;" />
                        <table id="usersTable" border="1">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nombre</th>
                                    <th>Email</th>
                                    <th>Tipo de Cuenta</th>
                                    <th>Es Empresa</th>
                                    <th>ID Rol</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Usuarios cargados dinámicamente con botones Editar y Eliminar -->
                            </tbody>
                        </table>
                    </div>
                    <div class="card" id="userFormSection" style="display:none;">
                        <h2 id="formTitle">Editar Usuario</h2>
                        <form id="userForm">
                            <input type="hidden" id="userId" />
                            <label for="nombre">Nombre:</label>
                            <input type="text" id="nombre" name="nombre" required />
                            <label for="email">Email:</label>
                            <input type="email" id="email" name="email" required />
                            <label for="esEmpresa">Es Empresa:</label>
                            <select id="esEmpresa" name="esEmpresa" required>
                                <option value="0">No</option>
                                <option value="1">Sí</option>
                            </select>
                            <button type="submit">Guardar</button>
                            <button type="button" id="btnCancel">Cancelar</button>
                        </form>
                    </div>
                </section>
                
                <section class="dashboard-cards" id="offersSection" style="display:none;">
                    <div class="card">
                        <table id="offersTable" border="1">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Título</th>
                                    <th>Descripción</th>
                                    <th>Ubicación</th>
                                    <th>Requisitos</th>
                                    <th>Fecha Publicación</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Ofertas cargadas dinámicamente con botones Editar y Eliminar -->
                            </tbody>
                        </table>
                    </div>
                    <div class="card" id="offerFormSection" style="display:none;">
                        <h2 id="formTitle">Editar Oferta</h2>
                        <form id="offerForm">
                            <input type="hidden" id="offerId" />
                            
                            <label for="titulo">Título:</label>
                            <input type="text" id="titulo" name="titulo" required />
                            
                            <label for="descripcion">Descripción:</label>
                            <textarea id="descripcion" name="descripcion" required></textarea>

                            <label for="ubicacion">Ubicación:</label>
                            <input type="text" id="ubicacion" name="ubicacion" />

                            <label for="requisitos">Requisitos:</label>
                            <textarea id="requisitos" name="requisitos"></textarea>

                            <label for="fechaPublicacion">Fecha Publicación:</label>
                            <input type="date" id="fechaPublicacion" name="fechaPublicacion" required />

                            <button type="submit">Guardar</button>
                            <button type="button" id="btnCancelOffer">Cancelar</button>
                        </form>

                    </div>
                </section>
            </main>
        </div>
    </div>
    <script src="../../Public/admin/admin.js"></script>
</body>
</html>